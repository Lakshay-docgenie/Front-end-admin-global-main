<section id="book-an-appt" class="docGenie-bkgrd">
    <div class="docGenie-container mt-2 mb-3">
    <div class="page-title mb-2">Prescribed Labtests and Recommended Doctor !<br><p>( List of prescriptions gone with either Lab Test or Doctor Recommended )</p></div>
      <div class="white-top-orange-box mt-5" style="padding: 4%;">
        <div class="row docGenie-bkgrd justify-content-center" style="border-radius: 10px; padding: 2%;">
        <div class="col col-12 col-lg-12">
          <form [formGroup]="displayAppdate" autocomplete="off" novalidate > 
            <div class="row mt-4 justify-content-center">
              <div class="col-12 col-lg-4 col-md-4">
                <mat-card-title class="text-color">Start date : </mat-card-title>
                <mat-form-field [style.fontSize.px]=12  appearance="outline">
                  <input matInput [matDatepicker]="picker2" [formControl]="startDatePicker" (dateInput)="addEvent('input', $event)" (dateChange)="addEvent('change', $event)">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="col-12 col-lg-4 col-md-4">
                <mat-card-title class="ml-4 text-color">End date : </mat-card-title>
                <mat-form-field [style.fontSize.px]=12  appearance="outline">
                  <input matInput [matDatepicker]="picker3" [formControl]="endDatePicker" (dateInput)="addEvent('input', $event)" (dateChange)="addEvent('change', $event)">
                  <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                  <mat-datepicker #picker3></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="col-12 col-lg-2 col-md-2"> 
                <p><span class="docGenie-grey">Count : </span>{{count}} <!-- <span class="ml-4"> Total Amount :</span> {{totAmt}}  --></p>
              </div> 
            </div>
          </form>  
         <!--  <div class="row mt-4 justify-content-center">
            <div class="col-12 col-lg-4 col-md-4"> 
              <mat-card-title class="text-color">Start date : </mat-card-title>
              <mat-form-field [style.fontSize.px]=12 appearance="outline">
                <input matInput type="date" id="startdate" (input)="addEvent('input', $event)" (change)="addEvent('change', $event)" >
              </mat-form-field>
            </div>
            <div class="col-12 col-lg-4 col-md-4">
              <mat-card-title class="ml-4 text-color">End date : </mat-card-title>
              <mat-form-field [style.fontSize.px]=12 appearance="outline">
                <input matInput type="date" id="enddate" (input)="addEvent('input', $event)" (change)="addEvent('change', $event)" >
              </mat-form-field>
            </div> 
            <div class="col-12 col-lg-2 col-md-2"> 
              <p><span class="docGenie-grey">Count : </span>{{count}} <!-- <span class="ml-4"> Total Amount :</span> {{totAmt}} </p>
            </div>  
          </div> -->
          <form [formGroup]="registerfrmgrp" autocomplete="off" novalidate >
            <div class="row justify-content-center mt-3">
              <div class="col col-5 col-lg-5">
                <mat-form-field [style.fontSize.px]=14 class="match_parent" appearance="outline" >
                  <input matInput type="text" placeholder="Please enter Phone No to search previous appointments" formControlName="srchstr" id="srchstr">
                  <mat-error *ngIf="hasError('srchstr', 'required')">Search string required</mat-error>
                </mat-form-field>
              </div>
              <div class="col col-3 col-lg-3">  
                <button class="neo-mybutton match_parent mt-3" (click)="search()">Search</button>
              </div>  
            </div>  
          </form>
          <mat-table [dataSource]="MyDataSource">
    
          <!-- Age Definition -->
          <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef>  Date  </mat-header-cell>
            <mat-cell *matCellDef="let detail" > {{detail.caldet_date}} <br> {{detail.caldet_calltype}}<span class="{{getColor(detail.caldet_pressent)}}"> ({{prescSentType}})</span></mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="patients">
            <mat-header-cell *matHeaderCellDef> Patients </mat-header-cell>
            <mat-cell *matCellDef="let detail"> {{detail.patdet_name}} <br>{{detail.patdet_contact}}</mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="doctor">
            <mat-header-cell *matHeaderCellDef> Doctor </mat-header-cell>
            <mat-cell *matCellDef="let detail"> {{detail.docdet_name}}<br>{{detail.docdet_contact}}</mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="labtest">
            <mat-header-cell *matHeaderCellDef > LabTest Prescribed </mat-header-cell>
            <mat-cell *matCellDef="let detail" > {{detail.patnot_testneeddone}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="DrRecomm">
            <mat-header-cell  *matHeaderCellDef> Doctor Recommended</mat-header-cell>
            <mat-cell *matCellDef="let detail">{{detail.patnot_consltandoc}} 
            
            </mat-cell>
          </ng-container>
    
          <!-- Header and Row Declarations without actions-->
          <mat-header-row *matHeaderRowDef="['date', 'patients','doctor','labtest','DrRecomm']; sticky: true"></mat-header-row>
            <mat-row *matRowDef="let row; columns: ['date', 'patients','doctor','labtest','DrRecomm']"></mat-row>
          </mat-table>
        </div>
        </div>
    
      </div>
    </div>
    </section>